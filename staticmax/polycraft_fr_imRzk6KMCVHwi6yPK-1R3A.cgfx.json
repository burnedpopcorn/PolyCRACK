{"version": 1,"name": "polycraft_fr.cgfx","samplers":{"diffuse":{"MinFilter": 9985,"MagFilter": 9729,"WrapS": 10497,"WrapT": 10497,"MaxAnisotropy": 8},"normal_map":{"MinFilter": 9985,"MagFilter": 9729,"WrapS": 10497,"WrapT": 10497,"MaxAnisotropy": 8},"specular_map":{"MinFilter": 9985,"MagFilter": 9729,"WrapS": 10497,"WrapT": 10497,"MaxAnisotropy": 8},"alpha_map":{"MinFilter": 9985,"MagFilter": 9729,"WrapS": 10497,"WrapT": 10497,"MaxAnisotropy": 4},"glow_map":{"MinFilter": 9985,"MagFilter": 9729,"WrapS": 10497,"WrapT": 10497},"light_map":{"MinFilter": 9985,"MagFilter": 9729,"WrapS": 33071,"WrapT": 33071},"env_map":{"MinFilter": 9985,"MagFilter": 9729,"WrapS": 33071,"WrapT": 33071,"WrapR": 33071},"lightprojection":{"MinFilter": 9728,"MagFilter": 9729,"WrapS": 33071,"WrapT": 33071},"lightfalloff":{"MinFilter": 9728,"MagFilter": 9729,"WrapS": 33071,"WrapT": 33071},"shadowMapTexture":{"MinFilter": 9729,"MagFilter": 9729,"WrapS": 33071,"WrapT": 33071},"shadowMapTexture2":{"MinFilter": 9729,"MagFilter": 9729,"WrapS": 33071,"WrapT": 33071}},"parameters":{"uvTransform":{"type": "float","rows": 3,"columns": 2,"values": [1,0,0,1,0,0]},"viewProjection":{"type": "float","rows": 4,"columns": 4},"projection":{"type": "float","rows": 4,"columns": 4},"world":{"type": "float","rows": 4,"columns": 3},"worldView":{"type": "float","rows": 4,"columns": 3},"worldInverseTranspose":{"type": "float","rows": 3,"columns": 3},"worldViewInverseTranspose":{"type": "float","rows": 3,"columns": 3},"materialColor":{"type": "float","columns": 4,"values": [1,1,1,1]},"ambientColor":{"type": "float","columns": 3},"lightViewInverseTransposeFalloff":{"type": "float","rows": 4,"columns": 4},"lightOrigin":{"type": "float","columns": 3},"lightColor":{"type": "float","columns": 3},"alphaRef":{"type": "float","values": [0.5]},"lightingScale":{"type": "float","values": [2]},"eyePosition":{"type": "float","columns": 3},"skinBones":{"type": "float","rows": 225,"columns": 4},"diffuse":{"type": "sampler2D"},"normal_map":{"type": "sampler2D"},"specular_map":{"type": "sampler2D"},"alpha_map":{"type": "sampler2D"},"glow_map":{"type": "sampler2D"},"light_map":{"type": "sampler2D"},"env_map":{"type": "samplerCUBE"},"lightprojection":{"type": "sampler2D"},"lightfalloff":{"type": "sampler2D"},"shininess":{"type": "float"},"toonShade":{"type": "bool","values": [1]},"clampedDiffuse":{"type": "sampler2D"},"shadowMapTexture":{"type": "sampler2D"},"shadowProjection":{"type": "float","rows": 4,"columns": 4},"shadowDepth":{"type": "float","columns": 4},"shadowSize_depthTweak_blurSize_fadeScale":{"type": "float","columns": 4},"shadowMapTexture2":{"type": "sampler2D"},"shadowProjection2":{"type": "float","rows": 4,"columns": 4},"shadowDepth2":{"type": "float","columns": 4},"shadowSize_depthTweak_blurSize_fadeScale2":{"type": "float","columns": 4},"over_darkening_factor":{"type": "float","values": [64]}},"techniques":{"emissive_alphatest":[{"parameters": ["uvTransform","projection","worldView","materialColor","alphaRef","glow_map"],"semantics": ["ATTR0","ATTR8"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": false,"CullFaceEnable": true,"CullFace": 1029,"BlendEnable": false},"programs": ["vp_ambient","fp_emissive_alpha"]}],"emissive_alphatest_nocull":[{"parameters": ["uvTransform","projection","worldView","materialColor","alphaRef","glow_map"],"semantics": ["ATTR0","ATTR8"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": false,"CullFaceEnable": false,"BlendEnable": false},"programs": ["vp_ambient","fp_emissive_alpha"]}],"emissive_alpha_alphatest":[{"parameters": ["uvTransform","projection","worldView","materialColor","alphaRef","glow_map"],"semantics": ["ATTR0","ATTR8"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": false,"CullFaceEnable": true,"CullFace": 1029,"BlendEnable": true,"BlendFunc": [770,771]},"programs": ["vp_ambient","fp_emissive_alpha"]}],"emissive_alpha_alphatest_nocull":[{"parameters": ["uvTransform","projection","worldView","materialColor","alphaRef","glow_map"],"semantics": ["ATTR0","ATTR8"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": false,"CullFaceEnable": false,"BlendEnable": true,"BlendFunc": [770,771]},"programs": ["vp_ambient","fp_emissive_alpha"]}],"matt":[{"parameters": ["uvTransform","projection","worldView","materialColor","lightColor","diffuse"],"semantics": ["ATTR0","ATTR8"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": false,"CullFaceEnable": true,"CullFace": 1029,"BlendEnable": true,"BlendFunc": [1,1]},"programs": ["vp_ambient","fp_matt"]}],"matt_alphatest":[{"parameters": ["uvTransform","projection","worldView","materialColor","lightColor","alphaRef","diffuse"],"semantics": ["ATTR0","ATTR8"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": false,"CullFaceEnable": true,"CullFace": 1029,"BlendEnable": true,"BlendFunc": [1,1]},"programs": ["vp_ambient","fp_matt_alpha"]}],"matt_alphatest_nocull":[{"parameters": ["uvTransform","projection","worldView","materialColor","lightColor","alphaRef","diffuse"],"semantics": ["ATTR0","ATTR8"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": false,"CullFaceEnable": false,"BlendEnable": true,"BlendFunc": [1,1]},"programs": ["vp_ambient","fp_matt_alpha"]}],"default_":[{"parameters": ["uvTransform","projection","worldView","worldViewInverseTranspose","materialColor","lightViewInverseTransposeFalloff","lightOrigin","lightColor","diffuse","lightprojection","lightfalloff"],"semantics": ["ATTR0","ATTR2","ATTR8"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": false,"CullFaceEnable": true,"CullFace": 1029,"BlendEnable": true,"BlendFunc": [1,1]},"programs": ["vp_blinn","fp_default"]}],"default_alpha":[{"parameters": ["uvTransform","projection","worldView","worldViewInverseTranspose","materialColor","lightViewInverseTransposeFalloff","lightOrigin","lightColor","alphaRef","diffuse","lightprojection","lightfalloff"],"semantics": ["ATTR0","ATTR2","ATTR8"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": false,"CullFaceEnable": true,"CullFace": 1029,"BlendEnable": true,"BlendFunc": [1,1]},"programs": ["vp_blinn","fp_default_alpha"]}],"shiny":[{"parameters": ["uvTransform","projection","worldView","worldViewInverseTranspose","materialColor","lightViewInverseTransposeFalloff","lightOrigin","lightColor","eyePosition","diffuse","lightprojection","lightfalloff","shininess"],"semantics": ["ATTR0","ATTR2","ATTR8"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": false,"CullFaceEnable": true,"CullFace": 1029,"BlendEnable": true,"BlendFunc": [1,1]},"programs": ["vp_blinn","fp_shiny"]}],"matt_shadows":[{"parameters": ["uvTransform","projection","worldView","worldViewInverseTranspose","materialColor","materialColor","lightViewInverseTransposeFalloff","lightColor","diffuse","lightprojection","lightfalloff","shadowMapTexture","shadowProjection","shadowDepth","shadowSize_depthTweak_blurSize_fadeScale"],"semantics": ["ATTR0","ATTR2","ATTR8"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": false,"CullFaceEnable": true,"CullFace": 1029,"BlendEnable": true,"BlendFunc": [1,1]},"programs": ["vp_matt_shadows","fp_matt_shadows"]}],"matt_alphatest_shadows":[{"parameters": ["uvTransform","projection","worldView","worldViewInverseTranspose","materialColor","materialColor","lightViewInverseTransposeFalloff","lightColor","alphaRef","diffuse","lightprojection","lightfalloff","shadowMapTexture","shadowProjection","shadowDepth","shadowSize_depthTweak_blurSize_fadeScale"],"semantics": ["ATTR0","ATTR2","ATTR8"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": false,"CullFaceEnable": true,"CullFace": 1029,"BlendEnable": true,"BlendFunc": [1,1]},"programs": ["vp_matt_shadows","fp_matt_alpha_shadows"]}],"matt_alphatest_nocull_shadows":[{"parameters": ["uvTransform","projection","worldView","worldViewInverseTranspose","materialColor","materialColor","lightViewInverseTransposeFalloff","lightColor","alphaRef","diffuse","lightprojection","lightfalloff","shadowMapTexture","shadowProjection","shadowDepth","shadowSize_depthTweak_blurSize_fadeScale"],"semantics": ["ATTR0","ATTR2","ATTR8"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": true,"CullFaceEnable": false,"BlendEnable": true,"BlendFunc": [1,1]},"programs": ["vp_matt_shadows","fp_matt_alpha_shadows"]}],"default_shadows":[{"parameters": ["uvTransform","projection","worldView","worldViewInverseTranspose","materialColor","lightViewInverseTransposeFalloff","lightOrigin","lightColor","diffuse","lightprojection","lightfalloff","shadowMapTexture","shadowProjection","shadowDepth","shadowSize_depthTweak_blurSize_fadeScale"],"semantics": ["ATTR0","ATTR2","ATTR8"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": false,"CullFaceEnable": true,"CullFace": 1029,"BlendEnable": true,"BlendFunc": [1,1]},"programs": ["vp_blinn","fp_default_shadows"]}],"default_alpha_shadows":[{"parameters": ["uvTransform","projection","worldView","worldViewInverseTranspose","materialColor","lightViewInverseTransposeFalloff","lightOrigin","lightColor","alphaRef","diffuse","lightprojection","lightfalloff","shadowMapTexture","shadowProjection","shadowDepth","shadowSize_depthTweak_blurSize_fadeScale"],"semantics": ["ATTR0","ATTR2","ATTR8"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": false,"CullFaceEnable": true,"CullFace": 1029,"BlendEnable": true,"BlendFunc": [1,1]},"programs": ["vp_blinn","fp_default_alpha_shadows"]}],"shiny_shadows":[{"parameters": ["uvTransform","projection","worldView","worldViewInverseTranspose","materialColor","lightViewInverseTransposeFalloff","lightOrigin","lightColor","eyePosition","diffuse","lightprojection","lightfalloff","shininess","shadowMapTexture","shadowProjection","shadowDepth","shadowSize_depthTweak_blurSize_fadeScale"],"semantics": ["ATTR0","ATTR2","ATTR8"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": false,"CullFaceEnable": true,"CullFace": 1029,"BlendEnable": true,"BlendFunc": [1,1]},"programs": ["vp_blinn","fp_shiny_shadows"]}]},"programs":{"fp_shiny_shadows":{"type": "fragment","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying TZ_LOWP vec4 tz_Color;varying vec4 tz_TexCoord[3];\nvec4 _ret_0;float _TMP5;float _TMP4;float _TMP25;float _TMP23;float _TMP22;float _TMP21;float _TMP20;vec4 _TMP17;vec4 _TMP16;vec4 _TMP15;vec4 _TMP14;float _TMP13;vec4 _TMP12;float _TMP11;float _TMP2;vec4 _TMP1;vec4 _TMP10;float _TMP9;float _TMP8;float _TMP7;float _TMP6;vec4 _temp0090;vec2 _c0094;vec3 _v0096;float _TMP105;float _x0109;float _TMP116;vec2 _shadowSpace0117;vec2 _shadowuv0117;vec4 _shadowAttenuation40117;float _shadowSizeReciprocal0117;float _sum0117;bool _TMP118;vec4 _b0122;float _x0124;float _TMP125;vec2 _c0132;float _TMP133;vec2 _c0138;float _TMP139;vec2 _c0144;float _TMP145;vec2 _c0150;float _TMP151;float _x0176;float _TMP177;vec3 _v0186;vec3 _v0192;uniform vec4 lightViewInverseTransposeFalloff[4];uniform vec3 lightOrigin;uniform vec3 lightColor;uniform vec3 eyePosition;uniform sampler2D diffuse;uniform sampler2D lightprojection;uniform sampler2D lightfalloff;uniform float shininess;uniform sampler2D shadowMapTexture;uniform vec4 shadowProjection[4];uniform vec4 shadowDepth;uniform vec4 shadowSize_depthTweak_blurSize_fadeScale;void main()\n{vec3 _Nn;vec4 _position4;vec4 _projection1;vec3 _attenuation1;vec3 _Ln;float _scale;vec3 _diffContrib;vec4 _diffuseColor;vec3 _result;vec3 _Cn;vec3 _Hn;float _specularContribution;_TMP4=dot(tz_TexCoord[1].xyz,tz_TexCoord[1].xyz);_TMP5=inversesqrt(_TMP4);_Nn=_TMP5*tz_TexCoord[1].xyz;_position4=vec4(tz_TexCoord[2].x,tz_TexCoord[2].y,tz_TexCoord[2].z,1.0);_TMP6=dot(_position4,lightViewInverseTransposeFalloff[0]);_TMP7=dot(_position4,lightViewInverseTransposeFalloff[1]);_TMP8=dot(_position4,lightViewInverseTransposeFalloff[2]);_TMP9=dot(_position4,lightViewInverseTransposeFalloff[3]);_projection1=vec4(_TMP6,_TMP7,_TMP8,_TMP9);_temp0090=vec4(_projection1.x,_projection1.y,_projection1.z,1.0);_TMP10=texture2DProj(lightprojection,_temp0090.xyz);_c0094=vec2(_projection1.w,0.5);_TMP1=texture2D(lightfalloff,_c0094);_attenuation1=_TMP10.xyz*_TMP1.y;_v0096=lightOrigin-tz_TexCoord[2].xyz;_TMP4=dot(_v0096,_v0096);_TMP5=inversesqrt(_TMP4);_Ln=_TMP5*_v0096;_TMP2=dot(_Ln,_Nn);_scale=max(_TMP2,0.0);_x0109=_scale*3.99000001;_TMP11=floor(_x0109);_TMP105=_TMP11*3.30000013E-01;_diffContrib=_TMP105*lightColor;_diffuseColor=texture2D(diffuse,tz_TexCoord[0].xy);_diffContrib=_diffContrib*_attenuation1;_TMP118=true;_TMP12=tz_TexCoord[2].xxxx*shadowProjection[0]+tz_TexCoord[2].yyyy*shadowProjection[1]+tz_TexCoord[2].zzzz*shadowProjection[2]+shadowProjection[3];_shadowSpace0117=_TMP12.xy/_TMP12.w;_b0122=vec4(tz_TexCoord[2].x,tz_TexCoord[2].y,tz_TexCoord[2].z,1.0);_TMP13=dot(shadowDepth,_b0122);_x0124=_TMP13-shadowSize_depthTweak_blurSize_fadeScale.y;_TMP25=min(1.0,_x0124);_TMP125=max(0.0,_TMP25);_shadowuv0117=(_shadowSpace0117*0.5+0.5)*shadowSize_depthTweak_blurSize_fadeScale.x;_shadowSizeReciprocal0117=1.0/shadowSize_depthTweak_blurSize_fadeScale.x;_c0132=(_shadowuv0117+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(4.13485095E-02,-2.67867506E-01))*_shadowSizeReciprocal0117;_TMP14=texture2D(shadowMapTexture,_c0132);_TMP133=dot(_TMP14.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0138=(_shadowuv0117+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(7.69249678E-01,-6.15603507E-01))*_shadowSizeReciprocal0117;_TMP15=texture2D(shadowMapTexture,_c0138);_TMP139=dot(_TMP15.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0144=(_shadowuv0117+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(-7.11979091E-01,-3.32085304E-02))*_shadowSizeReciprocal0117;_TMP16=texture2D(shadowMapTexture,_c0144);_TMP145=dot(_TMP16.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0150=(_shadowuv0117+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(-4.37312186E-01,-7.74540722E-01))*_shadowSizeReciprocal0117;_TMP17=texture2D(shadowMapTexture,_c0150);_TMP151=dot(_TMP17.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));if(_TMP133>=_TMP125){_TMP20=1.0;}else{_TMP20=0.0;}\n_shadowAttenuation40117.x=float(_TMP20);if(_TMP139>=_TMP125){_TMP21=1.0;}else{_TMP21=0.0;}\n_shadowAttenuation40117.y=float(_TMP21);if(_TMP145>=_TMP125){_TMP22=1.0;}else{_TMP22=0.0;}\n_shadowAttenuation40117.z=float(_TMP22);if(_TMP151>=_TMP125){_TMP23=1.0;}else{_TMP23=0.0;}\n_shadowAttenuation40117.w=float(_TMP23);_sum0117=_shadowAttenuation40117.x+_shadowAttenuation40117.y+_shadowAttenuation40117.z+_shadowAttenuation40117.w;if(_sum0117>3.99000001){_TMP116=(1.0-shadowSize_depthTweak_blurSize_fadeScale.w)+shadowSize_depthTweak_blurSize_fadeScale.w;_TMP118=false;}else{if(_sum0117<9.99999978E-03){_TMP116=1.0-shadowSize_depthTweak_blurSize_fadeScale.w;_TMP118=false;}}\nif(_TMP118){_c0132=(_shadowuv0117+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(-1.08112600E-02,7.87330210E-01))*_shadowSizeReciprocal0117;_TMP14=texture2D(shadowMapTexture,_c0132);_TMP133=dot(_TMP14.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0138=(_shadowuv0117+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(7.83792913E-01,-2.96356110E-03))*_shadowSizeReciprocal0117;_TMP15=texture2D(shadowMapTexture,_c0138);_TMP139=dot(_TMP15.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0144=(_shadowuv0117+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(7.38763392E-01,6.61161184E-01))*_shadowSizeReciprocal0117;_TMP16=texture2D(shadowMapTexture,_c0144);_TMP145=dot(_TMP16.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0150=(_shadowuv0117+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(-7.51874506E-01,5.91223478E-01))*_shadowSizeReciprocal0117;_TMP17=texture2D(shadowMapTexture,_c0150);_TMP151=dot(_TMP17.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));if(_TMP133>=_TMP125){_TMP20=1.0;}else{_TMP20=0.0;}\n_shadowAttenuation40117.x=_shadowAttenuation40117.x+float(_TMP20);if(_TMP139>=_TMP125){_TMP21=1.0;}else{_TMP21=0.0;}\n_shadowAttenuation40117.y=_shadowAttenuation40117.y+float(_TMP21);if(_TMP145>=_TMP125){_TMP22=1.0;}else{_TMP22=0.0;}\n_shadowAttenuation40117.z=_shadowAttenuation40117.z+float(_TMP22);if(_TMP151>=_TMP125){_TMP23=1.0;}else{_TMP23=0.0;}\n_shadowAttenuation40117.w=_shadowAttenuation40117.w+float(_TMP23);}\nif(_TMP118){_x0176=(_shadowAttenuation40117.x+_shadowAttenuation40117.y+_shadowAttenuation40117.z+_shadowAttenuation40117.w)*1.25000000E-01;_TMP25=min(1.0,_x0176);_TMP177=max(0.0,_TMP25);_TMP116=(1.0-shadowSize_depthTweak_blurSize_fadeScale.w)+shadowSize_depthTweak_blurSize_fadeScale.w*_TMP177;}\n_diffContrib=_diffContrib*_TMP116;_result=_diffuseColor.xyz*_diffContrib;_v0186=tz_TexCoord[2].xyz-eyePosition;_TMP4=dot(_v0186,_v0186);_TMP5=inversesqrt(_TMP4);_Cn=_TMP5*_v0186;_v0192=_Cn+_Ln;_TMP4=dot(_v0192,_v0192);_TMP5=inversesqrt(_TMP4);_Hn=_TMP5*_v0192;_specularContribution=dot(_Hn,_Nn);if(_specularContribution>3.00000012E-01){_specularContribution=pow(_specularContribution,shininess);_result=_result+_result*_specularContribution;}\n_ret_0=tz_Color*vec4(_result.x,_result.y,_result.z,_diffuseColor.w);gl_FragColor=_ret_0;}"},"vp_blinn":{"type": "vertex","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying TZ_LOWP vec4 tz_Color;varying vec4 tz_TexCoord[3];attribute vec4 ATTR0;attribute vec3 ATTR2;attribute vec4 ATTR8;\nstruct VP_BLINN_OUT{vec4 _Position18;vec4 _Color9;vec2 _UV13;vec3 _ViewNormal2;vec3 _ViewPosition2;};uniform vec2 uvTransform[3];uniform vec4 projection[4];uniform vec3 worldView[4];uniform vec3 worldViewInverseTranspose[3];uniform vec4 materialColor;void main()\n{VP_BLINN_OUT _OUT;vec3 _position;_position=ATTR0.xxx*worldView[0]+ATTR0.yyy*worldView[1]+ATTR0.zzz*worldView[2]+worldView[3];_OUT._Position18=_position.xxxx*projection[0]+_position.yyyy*projection[1]+_position.zzzz*projection[2]+projection[3];_OUT._UV13=ATTR8.xx*uvTransform[0]+ATTR8.yy*uvTransform[1]+uvTransform[2];_OUT._ViewNormal2=ATTR2.xxx*worldViewInverseTranspose[0]+ATTR2.yyy*worldViewInverseTranspose[1]+ATTR2.zzz*worldViewInverseTranspose[2];tz_TexCoord[2].xyz=_position;tz_TexCoord[0].xy=_OUT._UV13;tz_TexCoord[1].xyz=_OUT._ViewNormal2;gl_Position=_OUT._Position18;tz_Color=materialColor;}"},"fp_default_alpha_shadows":{"type": "fragment","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying TZ_LOWP vec4 tz_Color;varying vec4 tz_TexCoord[3];\nvec4 _ret_0;float _TMP26;float _TMP24;float _TMP23;float _TMP22;float _TMP21;vec4 _TMP18;vec4 _TMP17;vec4 _TMP16;vec4 _TMP15;float _TMP14;vec4 _TMP13;float _TMP3;float _TMP12;float _TMP2;float _TMP6;float _TMP5;vec4 _TMP1;vec4 _TMP11;float _TMP10;float _TMP9;float _TMP8;float _TMP7;vec4 _temp0093;vec2 _c0097;vec3 _v0099;float _TMP108;float _x0112;float _TMP119;vec2 _shadowSpace0120;vec2 _shadowuv0120;vec4 _shadowAttenuation40120;float _shadowSizeReciprocal0120;float _sum0120;bool _TMP121;vec4 _b0125;float _x0127;float _TMP128;vec2 _c0135;float _TMP136;vec2 _c0141;float _TMP142;vec2 _c0147;float _TMP148;vec2 _c0153;float _TMP154;float _x0179;float _TMP180;uniform vec4 lightViewInverseTransposeFalloff[4];uniform vec3 lightOrigin;uniform vec3 lightColor;uniform float alphaRef;uniform sampler2D diffuse;uniform sampler2D lightprojection;uniform sampler2D lightfalloff;uniform sampler2D shadowMapTexture;uniform vec4 shadowProjection[4];uniform vec4 shadowDepth;uniform vec4 shadowSize_depthTweak_blurSize_fadeScale;void main()\n{vec4 _diffuseColor;vec3 _Nn;vec4 _position4;vec4 _projection1;vec3 _attenuation1;vec3 _Ln;float _scale;vec3 _diffContrib;vec3 _result;_diffuseColor=texture2D(diffuse,tz_TexCoord[0].xy);if(_diffuseColor.w<alphaRef){discard;}\n_TMP5=dot(tz_TexCoord[1].xyz,tz_TexCoord[1].xyz);_TMP6=inversesqrt(_TMP5);_Nn=_TMP6*tz_TexCoord[1].xyz;_position4=vec4(tz_TexCoord[2].x,tz_TexCoord[2].y,tz_TexCoord[2].z,1.0);_TMP7=dot(_position4,lightViewInverseTransposeFalloff[0]);_TMP8=dot(_position4,lightViewInverseTransposeFalloff[1]);_TMP9=dot(_position4,lightViewInverseTransposeFalloff[2]);_TMP10=dot(_position4,lightViewInverseTransposeFalloff[3]);_projection1=vec4(_TMP7,_TMP8,_TMP9,_TMP10);_temp0093=vec4(_projection1.x,_projection1.y,_projection1.z,1.0);_TMP11=texture2DProj(lightprojection,_temp0093.xyz);_c0097=vec2(_projection1.w,0.5);_TMP1=texture2D(lightfalloff,_c0097);_attenuation1=_TMP11.xyz*_TMP1.y;_v0099=lightOrigin-tz_TexCoord[2].xyz;_TMP5=dot(_v0099,_v0099);_TMP6=inversesqrt(_TMP5);_Ln=_TMP6*_v0099;_TMP2=dot(_Ln,_Nn);_scale=max(_TMP2,0.0);_x0112=_scale*3.99000001;_TMP12=floor(_x0112);_TMP108=_TMP12*3.30000013E-01;_diffContrib=_TMP108*lightColor;_diffContrib=_diffContrib*_attenuation1;_TMP3=dot(_diffContrib,vec3(3.00000012E-01,5.89999974E-01,1.09999999E-01));if(_TMP3<4.00000019E-03){discard;}\n_TMP121=true;_TMP13=tz_TexCoord[2].xxxx*shadowProjection[0]+tz_TexCoord[2].yyyy*shadowProjection[1]+tz_TexCoord[2].zzzz*shadowProjection[2]+shadowProjection[3];_shadowSpace0120=_TMP13.xy/_TMP13.w;_b0125=vec4(tz_TexCoord[2].x,tz_TexCoord[2].y,tz_TexCoord[2].z,1.0);_TMP14=dot(shadowDepth,_b0125);_x0127=_TMP14-shadowSize_depthTweak_blurSize_fadeScale.y;_TMP26=min(1.0,_x0127);_TMP128=max(0.0,_TMP26);_shadowuv0120=(_shadowSpace0120*0.5+0.5)*shadowSize_depthTweak_blurSize_fadeScale.x;_shadowSizeReciprocal0120=1.0/shadowSize_depthTweak_blurSize_fadeScale.x;_c0135=(_shadowuv0120+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(4.13485095E-02,-2.67867506E-01))*_shadowSizeReciprocal0120;_TMP15=texture2D(shadowMapTexture,_c0135);_TMP136=dot(_TMP15.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0141=(_shadowuv0120+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(7.69249678E-01,-6.15603507E-01))*_shadowSizeReciprocal0120;_TMP16=texture2D(shadowMapTexture,_c0141);_TMP142=dot(_TMP16.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0147=(_shadowuv0120+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(-7.11979091E-01,-3.32085304E-02))*_shadowSizeReciprocal0120;_TMP17=texture2D(shadowMapTexture,_c0147);_TMP148=dot(_TMP17.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0153=(_shadowuv0120+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(-4.37312186E-01,-7.74540722E-01))*_shadowSizeReciprocal0120;_TMP18=texture2D(shadowMapTexture,_c0153);_TMP154=dot(_TMP18.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));if(_TMP136>=_TMP128){_TMP21=1.0;}else{_TMP21=0.0;}\n_shadowAttenuation40120.x=float(_TMP21);if(_TMP142>=_TMP128){_TMP22=1.0;}else{_TMP22=0.0;}\n_shadowAttenuation40120.y=float(_TMP22);if(_TMP148>=_TMP128){_TMP23=1.0;}else{_TMP23=0.0;}\n_shadowAttenuation40120.z=float(_TMP23);if(_TMP154>=_TMP128){_TMP24=1.0;}else{_TMP24=0.0;}\n_shadowAttenuation40120.w=float(_TMP24);_sum0120=_shadowAttenuation40120.x+_shadowAttenuation40120.y+_shadowAttenuation40120.z+_shadowAttenuation40120.w;if(_sum0120>3.99000001){_TMP119=(1.0-shadowSize_depthTweak_blurSize_fadeScale.w)+shadowSize_depthTweak_blurSize_fadeScale.w;_TMP121=false;}else{if(_sum0120<9.99999978E-03){_TMP119=1.0-shadowSize_depthTweak_blurSize_fadeScale.w;_TMP121=false;}}\nif(_TMP121){_c0135=(_shadowuv0120+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(-1.08112600E-02,7.87330210E-01))*_shadowSizeReciprocal0120;_TMP15=texture2D(shadowMapTexture,_c0135);_TMP136=dot(_TMP15.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0141=(_shadowuv0120+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(7.83792913E-01,-2.96356110E-03))*_shadowSizeReciprocal0120;_TMP16=texture2D(shadowMapTexture,_c0141);_TMP142=dot(_TMP16.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0147=(_shadowuv0120+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(7.38763392E-01,6.61161184E-01))*_shadowSizeReciprocal0120;_TMP17=texture2D(shadowMapTexture,_c0147);_TMP148=dot(_TMP17.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0153=(_shadowuv0120+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(-7.51874506E-01,5.91223478E-01))*_shadowSizeReciprocal0120;_TMP18=texture2D(shadowMapTexture,_c0153);_TMP154=dot(_TMP18.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));if(_TMP136>=_TMP128){_TMP21=1.0;}else{_TMP21=0.0;}\n_shadowAttenuation40120.x=_shadowAttenuation40120.x+float(_TMP21);if(_TMP142>=_TMP128){_TMP22=1.0;}else{_TMP22=0.0;}\n_shadowAttenuation40120.y=_shadowAttenuation40120.y+float(_TMP22);if(_TMP148>=_TMP128){_TMP23=1.0;}else{_TMP23=0.0;}\n_shadowAttenuation40120.z=_shadowAttenuation40120.z+float(_TMP23);if(_TMP154>=_TMP128){_TMP24=1.0;}else{_TMP24=0.0;}\n_shadowAttenuation40120.w=_shadowAttenuation40120.w+float(_TMP24);}\nif(_TMP121){_x0179=(_shadowAttenuation40120.x+_shadowAttenuation40120.y+_shadowAttenuation40120.z+_shadowAttenuation40120.w)*1.25000000E-01;_TMP26=min(1.0,_x0179);_TMP180=max(0.0,_TMP26);_TMP119=(1.0-shadowSize_depthTweak_blurSize_fadeScale.w)+shadowSize_depthTweak_blurSize_fadeScale.w*_TMP180;}\n_diffContrib=_diffContrib*_TMP119;_result=_diffuseColor.xyz*_diffContrib;_ret_0=tz_Color*vec4(_result.x,_result.y,_result.z,_diffuseColor.w);gl_FragColor=_ret_0;}"},"fp_default_shadows":{"type": "fragment","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying TZ_LOWP vec4 tz_Color;varying vec4 tz_TexCoord[3];\nvec4 _ret_0;float _TMP26;float _TMP24;float _TMP23;float _TMP22;float _TMP21;vec4 _TMP18;vec4 _TMP17;vec4 _TMP16;vec4 _TMP15;float _TMP14;vec4 _TMP13;float _TMP3;float _TMP12;float _TMP2;float _TMP6;float _TMP5;vec4 _TMP1;vec4 _TMP11;float _TMP10;float _TMP9;float _TMP8;float _TMP7;vec4 _temp0091;vec2 _c0095;vec3 _v0097;float _TMP106;float _x0110;float _TMP117;vec2 _shadowSpace0118;vec2 _shadowuv0118;vec4 _shadowAttenuation40118;float _shadowSizeReciprocal0118;float _sum0118;bool _TMP119;vec4 _b0123;float _x0125;float _TMP126;vec2 _c0133;float _TMP134;vec2 _c0139;float _TMP140;vec2 _c0145;float _TMP146;vec2 _c0151;float _TMP152;float _x0177;float _TMP178;uniform vec4 lightViewInverseTransposeFalloff[4];uniform vec3 lightOrigin;uniform vec3 lightColor;uniform sampler2D diffuse;uniform sampler2D lightprojection;uniform sampler2D lightfalloff;uniform sampler2D shadowMapTexture;uniform vec4 shadowProjection[4];uniform vec4 shadowDepth;uniform vec4 shadowSize_depthTweak_blurSize_fadeScale;void main()\n{vec3 _Nn;vec4 _position4;vec4 _projection1;vec3 _attenuation1;vec3 _Ln;float _scale;vec3 _diffContrib;vec4 _diffuseColor;vec3 _result;_TMP5=dot(tz_TexCoord[1].xyz,tz_TexCoord[1].xyz);_TMP6=inversesqrt(_TMP5);_Nn=_TMP6*tz_TexCoord[1].xyz;_position4=vec4(tz_TexCoord[2].x,tz_TexCoord[2].y,tz_TexCoord[2].z,1.0);_TMP7=dot(_position4,lightViewInverseTransposeFalloff[0]);_TMP8=dot(_position4,lightViewInverseTransposeFalloff[1]);_TMP9=dot(_position4,lightViewInverseTransposeFalloff[2]);_TMP10=dot(_position4,lightViewInverseTransposeFalloff[3]);_projection1=vec4(_TMP7,_TMP8,_TMP9,_TMP10);_temp0091=vec4(_projection1.x,_projection1.y,_projection1.z,1.0);_TMP11=texture2DProj(lightprojection,_temp0091.xyz);_c0095=vec2(_projection1.w,0.5);_TMP1=texture2D(lightfalloff,_c0095);_attenuation1=_TMP11.xyz*_TMP1.y;_v0097=lightOrigin-tz_TexCoord[2].xyz;_TMP5=dot(_v0097,_v0097);_TMP6=inversesqrt(_TMP5);_Ln=_TMP6*_v0097;_TMP2=dot(_Ln,_Nn);_scale=max(_TMP2,0.0);_x0110=_scale*3.99000001;_TMP12=floor(_x0110);_TMP106=_TMP12*3.30000013E-01;_diffContrib=_TMP106*lightColor;_diffContrib=_diffContrib*_attenuation1;_TMP3=dot(_diffContrib,vec3(3.00000012E-01,5.89999974E-01,1.09999999E-01));if(_TMP3<4.00000019E-03){discard;}\n_TMP119=true;_TMP13=tz_TexCoord[2].xxxx*shadowProjection[0]+tz_TexCoord[2].yyyy*shadowProjection[1]+tz_TexCoord[2].zzzz*shadowProjection[2]+shadowProjection[3];_shadowSpace0118=_TMP13.xy/_TMP13.w;_b0123=vec4(tz_TexCoord[2].x,tz_TexCoord[2].y,tz_TexCoord[2].z,1.0);_TMP14=dot(shadowDepth,_b0123);_x0125=_TMP14-shadowSize_depthTweak_blurSize_fadeScale.y;_TMP26=min(1.0,_x0125);_TMP126=max(0.0,_TMP26);_shadowuv0118=(_shadowSpace0118*0.5+0.5)*shadowSize_depthTweak_blurSize_fadeScale.x;_shadowSizeReciprocal0118=1.0/shadowSize_depthTweak_blurSize_fadeScale.x;_c0133=(_shadowuv0118+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(4.13485095E-02,-2.67867506E-01))*_shadowSizeReciprocal0118;_TMP15=texture2D(shadowMapTexture,_c0133);_TMP134=dot(_TMP15.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0139=(_shadowuv0118+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(7.69249678E-01,-6.15603507E-01))*_shadowSizeReciprocal0118;_TMP16=texture2D(shadowMapTexture,_c0139);_TMP140=dot(_TMP16.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0145=(_shadowuv0118+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(-7.11979091E-01,-3.32085304E-02))*_shadowSizeReciprocal0118;_TMP17=texture2D(shadowMapTexture,_c0145);_TMP146=dot(_TMP17.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0151=(_shadowuv0118+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(-4.37312186E-01,-7.74540722E-01))*_shadowSizeReciprocal0118;_TMP18=texture2D(shadowMapTexture,_c0151);_TMP152=dot(_TMP18.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));if(_TMP134>=_TMP126){_TMP21=1.0;}else{_TMP21=0.0;}\n_shadowAttenuation40118.x=float(_TMP21);if(_TMP140>=_TMP126){_TMP22=1.0;}else{_TMP22=0.0;}\n_shadowAttenuation40118.y=float(_TMP22);if(_TMP146>=_TMP126){_TMP23=1.0;}else{_TMP23=0.0;}\n_shadowAttenuation40118.z=float(_TMP23);if(_TMP152>=_TMP126){_TMP24=1.0;}else{_TMP24=0.0;}\n_shadowAttenuation40118.w=float(_TMP24);_sum0118=_shadowAttenuation40118.x+_shadowAttenuation40118.y+_shadowAttenuation40118.z+_shadowAttenuation40118.w;if(_sum0118>3.99000001){_TMP117=(1.0-shadowSize_depthTweak_blurSize_fadeScale.w)+shadowSize_depthTweak_blurSize_fadeScale.w;_TMP119=false;}else{if(_sum0118<9.99999978E-03){_TMP117=1.0-shadowSize_depthTweak_blurSize_fadeScale.w;_TMP119=false;}}\nif(_TMP119){_c0133=(_shadowuv0118+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(-1.08112600E-02,7.87330210E-01))*_shadowSizeReciprocal0118;_TMP15=texture2D(shadowMapTexture,_c0133);_TMP134=dot(_TMP15.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0139=(_shadowuv0118+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(7.83792913E-01,-2.96356110E-03))*_shadowSizeReciprocal0118;_TMP16=texture2D(shadowMapTexture,_c0139);_TMP140=dot(_TMP16.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0145=(_shadowuv0118+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(7.38763392E-01,6.61161184E-01))*_shadowSizeReciprocal0118;_TMP17=texture2D(shadowMapTexture,_c0145);_TMP146=dot(_TMP17.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0151=(_shadowuv0118+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(-7.51874506E-01,5.91223478E-01))*_shadowSizeReciprocal0118;_TMP18=texture2D(shadowMapTexture,_c0151);_TMP152=dot(_TMP18.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));if(_TMP134>=_TMP126){_TMP21=1.0;}else{_TMP21=0.0;}\n_shadowAttenuation40118.x=_shadowAttenuation40118.x+float(_TMP21);if(_TMP140>=_TMP126){_TMP22=1.0;}else{_TMP22=0.0;}\n_shadowAttenuation40118.y=_shadowAttenuation40118.y+float(_TMP22);if(_TMP146>=_TMP126){_TMP23=1.0;}else{_TMP23=0.0;}\n_shadowAttenuation40118.z=_shadowAttenuation40118.z+float(_TMP23);if(_TMP152>=_TMP126){_TMP24=1.0;}else{_TMP24=0.0;}\n_shadowAttenuation40118.w=_shadowAttenuation40118.w+float(_TMP24);}\nif(_TMP119){_x0177=(_shadowAttenuation40118.x+_shadowAttenuation40118.y+_shadowAttenuation40118.z+_shadowAttenuation40118.w)*1.25000000E-01;_TMP26=min(1.0,_x0177);_TMP178=max(0.0,_TMP26);_TMP117=(1.0-shadowSize_depthTweak_blurSize_fadeScale.w)+shadowSize_depthTweak_blurSize_fadeScale.w*_TMP178;}\n_diffContrib=_diffContrib*_TMP117;_diffuseColor=texture2D(diffuse,tz_TexCoord[0].xy);_result=_diffuseColor.xyz*_diffContrib;_ret_0=tz_Color*vec4(_result.x,_result.y,_result.z,_diffuseColor.w);gl_FragColor=_ret_0;}"},"fp_matt_alpha_shadows":{"type": "fragment","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying TZ_LOWP vec4 tz_Color;varying vec4 tz_TexCoord[3];\nvec4 _ret_0;float _TMP22;float _TMP20;float _TMP19;float _TMP18;float _TMP17;vec4 _TMP14;vec4 _TMP13;vec4 _TMP12;vec4 _TMP11;float _TMP10;vec4 _TMP9;float _TMP2;vec4 _TMP1;vec4 _TMP8;float _TMP7;float _TMP6;float _TMP5;float _TMP4;vec4 _temp0083;vec2 _c0087;float _TMP94;vec2 _shadowSpace0095;vec2 _shadowuv0095;vec4 _shadowAttenuation40095;float _shadowSizeReciprocal0095;float _sum0095;bool _TMP96;vec4 _b0100;float _x0102;float _TMP103;vec2 _c0110;float _TMP111;vec2 _c0116;float _TMP117;vec2 _c0122;float _TMP123;vec2 _c0128;float _TMP129;float _x0154;float _TMP155;uniform vec4 materialColor;uniform vec4 lightViewInverseTransposeFalloff[4];uniform vec3 lightColor;uniform float alphaRef;uniform sampler2D diffuse;uniform sampler2D lightprojection;uniform sampler2D lightfalloff;uniform sampler2D shadowMapTexture;uniform vec4 shadowProjection[4];uniform vec4 shadowDepth;uniform vec4 shadowSize_depthTweak_blurSize_fadeScale;void main()\n{vec4 _diffuseColor;vec4 _position4;vec4 _projection1;vec3 _attenuation1;vec3 _diffContrib;vec3 _TMP65;_diffuseColor=texture2D(diffuse,tz_TexCoord[0].xy);if(_diffuseColor.w<alphaRef){discard;}\n_diffuseColor.xyz=_diffuseColor.xyz*lightColor;_position4=vec4(tz_TexCoord[2].x,tz_TexCoord[2].y,tz_TexCoord[2].z,1.0);_TMP4=dot(_position4,lightViewInverseTransposeFalloff[0]);_TMP5=dot(_position4,lightViewInverseTransposeFalloff[1]);_TMP6=dot(_position4,lightViewInverseTransposeFalloff[2]);_TMP7=dot(_position4,lightViewInverseTransposeFalloff[3]);_projection1=vec4(_TMP4,_TMP5,_TMP6,_TMP7);_temp0083=vec4(_projection1.x,_projection1.y,_projection1.z,1.0);_TMP8=texture2DProj(lightprojection,_temp0083.xyz);_c0087=vec2(_projection1.w,0.5);_TMP1=texture2D(lightfalloff,_c0087);_attenuation1=_TMP8.xyz*_TMP1.y;_diffContrib=materialColor.xyz*_diffuseColor.xyz;_diffContrib=_diffContrib*_attenuation1;_TMP2=dot(_diffContrib,vec3(3.00000012E-01,5.89999974E-01,1.09999999E-01));if(_TMP2<4.00000019E-03){discard;}\n_TMP96=true;_TMP9=tz_TexCoord[2].xxxx*shadowProjection[0]+tz_TexCoord[2].yyyy*shadowProjection[1]+tz_TexCoord[2].zzzz*shadowProjection[2]+shadowProjection[3];_shadowSpace0095=_TMP9.xy/_TMP9.w;_b0100=vec4(tz_TexCoord[2].x,tz_TexCoord[2].y,tz_TexCoord[2].z,1.0);_TMP10=dot(shadowDepth,_b0100);_x0102=_TMP10-shadowSize_depthTweak_blurSize_fadeScale.y;_TMP22=min(1.0,_x0102);_TMP103=max(0.0,_TMP22);_shadowuv0095=(_shadowSpace0095*0.5+0.5)*shadowSize_depthTweak_blurSize_fadeScale.x;_shadowSizeReciprocal0095=1.0/shadowSize_depthTweak_blurSize_fadeScale.x;_c0110=(_shadowuv0095+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(4.13485095E-02,-2.67867506E-01))*_shadowSizeReciprocal0095;_TMP11=texture2D(shadowMapTexture,_c0110);_TMP111=dot(_TMP11.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0116=(_shadowuv0095+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(7.69249678E-01,-6.15603507E-01))*_shadowSizeReciprocal0095;_TMP12=texture2D(shadowMapTexture,_c0116);_TMP117=dot(_TMP12.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0122=(_shadowuv0095+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(-7.11979091E-01,-3.32085304E-02))*_shadowSizeReciprocal0095;_TMP13=texture2D(shadowMapTexture,_c0122);_TMP123=dot(_TMP13.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0128=(_shadowuv0095+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(-4.37312186E-01,-7.74540722E-01))*_shadowSizeReciprocal0095;_TMP14=texture2D(shadowMapTexture,_c0128);_TMP129=dot(_TMP14.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));if(_TMP111>=_TMP103){_TMP17=1.0;}else{_TMP17=0.0;}\n_shadowAttenuation40095.x=float(_TMP17);if(_TMP117>=_TMP103){_TMP18=1.0;}else{_TMP18=0.0;}\n_shadowAttenuation40095.y=float(_TMP18);if(_TMP123>=_TMP103){_TMP19=1.0;}else{_TMP19=0.0;}\n_shadowAttenuation40095.z=float(_TMP19);if(_TMP129>=_TMP103){_TMP20=1.0;}else{_TMP20=0.0;}\n_shadowAttenuation40095.w=float(_TMP20);_sum0095=_shadowAttenuation40095.x+_shadowAttenuation40095.y+_shadowAttenuation40095.z+_shadowAttenuation40095.w;if(_sum0095>3.99000001){_TMP94=(1.0-shadowSize_depthTweak_blurSize_fadeScale.w)+shadowSize_depthTweak_blurSize_fadeScale.w;_TMP96=false;}else{if(_sum0095<9.99999978E-03){_TMP94=1.0-shadowSize_depthTweak_blurSize_fadeScale.w;_TMP96=false;}}\nif(_TMP96){_c0110=(_shadowuv0095+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(-1.08112600E-02,7.87330210E-01))*_shadowSizeReciprocal0095;_TMP11=texture2D(shadowMapTexture,_c0110);_TMP111=dot(_TMP11.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0116=(_shadowuv0095+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(7.83792913E-01,-2.96356110E-03))*_shadowSizeReciprocal0095;_TMP12=texture2D(shadowMapTexture,_c0116);_TMP117=dot(_TMP12.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0122=(_shadowuv0095+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(7.38763392E-01,6.61161184E-01))*_shadowSizeReciprocal0095;_TMP13=texture2D(shadowMapTexture,_c0122);_TMP123=dot(_TMP13.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0128=(_shadowuv0095+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(-7.51874506E-01,5.91223478E-01))*_shadowSizeReciprocal0095;_TMP14=texture2D(shadowMapTexture,_c0128);_TMP129=dot(_TMP14.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));if(_TMP111>=_TMP103){_TMP17=1.0;}else{_TMP17=0.0;}\n_shadowAttenuation40095.x=_shadowAttenuation40095.x+float(_TMP17);if(_TMP117>=_TMP103){_TMP18=1.0;}else{_TMP18=0.0;}\n_shadowAttenuation40095.y=_shadowAttenuation40095.y+float(_TMP18);if(_TMP123>=_TMP103){_TMP19=1.0;}else{_TMP19=0.0;}\n_shadowAttenuation40095.z=_shadowAttenuation40095.z+float(_TMP19);if(_TMP129>=_TMP103){_TMP20=1.0;}else{_TMP20=0.0;}\n_shadowAttenuation40095.w=_shadowAttenuation40095.w+float(_TMP20);}\nif(_TMP96){_x0154=(_shadowAttenuation40095.x+_shadowAttenuation40095.y+_shadowAttenuation40095.z+_shadowAttenuation40095.w)*1.25000000E-01;_TMP22=min(1.0,_x0154);_TMP155=max(0.0,_TMP22);_TMP94=(1.0-shadowSize_depthTweak_blurSize_fadeScale.w)+shadowSize_depthTweak_blurSize_fadeScale.w*_TMP155;}\n_diffContrib=_diffContrib*_TMP94;_TMP65=tz_Color.xyz*_diffContrib;_ret_0=vec4(_TMP65.x,_TMP65.y,_TMP65.z,_diffuseColor.w);gl_FragColor=_ret_0;}"},"vp_matt_shadows":{"type": "vertex","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying TZ_LOWP vec4 tz_Color;varying vec4 tz_TexCoord[3];attribute vec4 ATTR0;attribute vec3 ATTR2;attribute vec4 ATTR8;\nstruct VP_BLINN_OUT{vec4 _Position18;vec4 _Color9;vec2 _UV13;vec3 _ViewNormal2;vec3 _ViewPosition2;};uniform vec2 uvTransform[3];uniform vec4 projection[4];uniform vec3 worldView[4];uniform vec3 worldViewInverseTranspose[3];uniform vec4 materialColor;void main()\n{VP_BLINN_OUT _OUT;vec3 _position;_position=ATTR0.xxx*worldView[0]+ATTR0.yyy*worldView[1]+ATTR0.zzz*worldView[2]+worldView[3];_OUT._Position18=_position.xxxx*projection[0]+_position.yyyy*projection[1]+_position.zzzz*projection[2]+projection[3];_OUT._UV13=ATTR8.xx*uvTransform[0]+ATTR8.yy*uvTransform[1]+uvTransform[2];_OUT._ViewNormal2=ATTR2.xxx*worldViewInverseTranspose[0]+ATTR2.yyy*worldViewInverseTranspose[1]+ATTR2.zzz*worldViewInverseTranspose[2];tz_TexCoord[2].xyz=_position;tz_TexCoord[0].xy=_OUT._UV13;tz_TexCoord[1].xyz=_OUT._ViewNormal2;gl_Position=_OUT._Position18;tz_Color=materialColor;}"},"fp_matt_shadows":{"type": "fragment","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying TZ_LOWP vec4 tz_Color;varying vec4 tz_TexCoord[3];\nvec4 _ret_0;float _TMP22;float _TMP20;float _TMP19;float _TMP18;float _TMP17;vec4 _TMP14;vec4 _TMP13;vec4 _TMP12;vec4 _TMP11;float _TMP10;vec4 _TMP9;float _TMP2;vec4 _TMP1;vec4 _TMP8;float _TMP7;float _TMP6;float _TMP5;float _TMP4;vec4 _temp0083;vec2 _c0087;float _TMP94;vec2 _shadowSpace0095;vec2 _shadowuv0095;vec4 _shadowAttenuation40095;float _shadowSizeReciprocal0095;float _sum0095;bool _TMP96;vec4 _b0100;float _x0102;float _TMP103;vec2 _c0110;float _TMP111;vec2 _c0116;float _TMP117;vec2 _c0122;float _TMP123;vec2 _c0128;float _TMP129;float _x0154;float _TMP155;uniform vec4 materialColor;uniform vec4 lightViewInverseTransposeFalloff[4];uniform vec3 lightColor;uniform sampler2D diffuse;uniform sampler2D lightprojection;uniform sampler2D lightfalloff;uniform sampler2D shadowMapTexture;uniform vec4 shadowProjection[4];uniform vec4 shadowDepth;uniform vec4 shadowSize_depthTweak_blurSize_fadeScale;void main()\n{vec4 _diffuseColor;vec4 _position4;vec4 _projection1;vec3 _attenuation1;vec3 _diffContrib;vec3 _TMP65;_diffuseColor=texture2D(diffuse,tz_TexCoord[0].xy);_diffuseColor.xyz=_diffuseColor.xyz*lightColor;_position4=vec4(tz_TexCoord[2].x,tz_TexCoord[2].y,tz_TexCoord[2].z,1.0);_TMP4=dot(_position4,lightViewInverseTransposeFalloff[0]);_TMP5=dot(_position4,lightViewInverseTransposeFalloff[1]);_TMP6=dot(_position4,lightViewInverseTransposeFalloff[2]);_TMP7=dot(_position4,lightViewInverseTransposeFalloff[3]);_projection1=vec4(_TMP4,_TMP5,_TMP6,_TMP7);_temp0083=vec4(_projection1.x,_projection1.y,_projection1.z,1.0);_TMP8=texture2DProj(lightprojection,_temp0083.xyz);_c0087=vec2(_projection1.w,0.5);_TMP1=texture2D(lightfalloff,_c0087);_attenuation1=_TMP8.xyz*_TMP1.y;_diffContrib=materialColor.xyz*_diffuseColor.xyz;_diffContrib=_diffContrib*_attenuation1;_TMP2=dot(_diffContrib,vec3(3.00000012E-01,5.89999974E-01,1.09999999E-01));if(_TMP2<4.00000019E-03){discard;}\n_TMP96=true;_TMP9=tz_TexCoord[2].xxxx*shadowProjection[0]+tz_TexCoord[2].yyyy*shadowProjection[1]+tz_TexCoord[2].zzzz*shadowProjection[2]+shadowProjection[3];_shadowSpace0095=_TMP9.xy/_TMP9.w;_b0100=vec4(tz_TexCoord[2].x,tz_TexCoord[2].y,tz_TexCoord[2].z,1.0);_TMP10=dot(shadowDepth,_b0100);_x0102=_TMP10-shadowSize_depthTweak_blurSize_fadeScale.y;_TMP22=min(1.0,_x0102);_TMP103=max(0.0,_TMP22);_shadowuv0095=(_shadowSpace0095*0.5+0.5)*shadowSize_depthTweak_blurSize_fadeScale.x;_shadowSizeReciprocal0095=1.0/shadowSize_depthTweak_blurSize_fadeScale.x;_c0110=(_shadowuv0095+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(4.13485095E-02,-2.67867506E-01))*_shadowSizeReciprocal0095;_TMP11=texture2D(shadowMapTexture,_c0110);_TMP111=dot(_TMP11.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0116=(_shadowuv0095+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(7.69249678E-01,-6.15603507E-01))*_shadowSizeReciprocal0095;_TMP12=texture2D(shadowMapTexture,_c0116);_TMP117=dot(_TMP12.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0122=(_shadowuv0095+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(-7.11979091E-01,-3.32085304E-02))*_shadowSizeReciprocal0095;_TMP13=texture2D(shadowMapTexture,_c0122);_TMP123=dot(_TMP13.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0128=(_shadowuv0095+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(-4.37312186E-01,-7.74540722E-01))*_shadowSizeReciprocal0095;_TMP14=texture2D(shadowMapTexture,_c0128);_TMP129=dot(_TMP14.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));if(_TMP111>=_TMP103){_TMP17=1.0;}else{_TMP17=0.0;}\n_shadowAttenuation40095.x=float(_TMP17);if(_TMP117>=_TMP103){_TMP18=1.0;}else{_TMP18=0.0;}\n_shadowAttenuation40095.y=float(_TMP18);if(_TMP123>=_TMP103){_TMP19=1.0;}else{_TMP19=0.0;}\n_shadowAttenuation40095.z=float(_TMP19);if(_TMP129>=_TMP103){_TMP20=1.0;}else{_TMP20=0.0;}\n_shadowAttenuation40095.w=float(_TMP20);_sum0095=_shadowAttenuation40095.x+_shadowAttenuation40095.y+_shadowAttenuation40095.z+_shadowAttenuation40095.w;if(_sum0095>3.99000001){_TMP94=(1.0-shadowSize_depthTweak_blurSize_fadeScale.w)+shadowSize_depthTweak_blurSize_fadeScale.w;_TMP96=false;}else{if(_sum0095<9.99999978E-03){_TMP94=1.0-shadowSize_depthTweak_blurSize_fadeScale.w;_TMP96=false;}}\nif(_TMP96){_c0110=(_shadowuv0095+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(-1.08112600E-02,7.87330210E-01))*_shadowSizeReciprocal0095;_TMP11=texture2D(shadowMapTexture,_c0110);_TMP111=dot(_TMP11.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0116=(_shadowuv0095+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(7.83792913E-01,-2.96356110E-03))*_shadowSizeReciprocal0095;_TMP12=texture2D(shadowMapTexture,_c0116);_TMP117=dot(_TMP12.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0122=(_shadowuv0095+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(7.38763392E-01,6.61161184E-01))*_shadowSizeReciprocal0095;_TMP13=texture2D(shadowMapTexture,_c0122);_TMP123=dot(_TMP13.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));_c0128=(_shadowuv0095+shadowSize_depthTweak_blurSize_fadeScale.z*vec2(-7.51874506E-01,5.91223478E-01))*_shadowSizeReciprocal0095;_TMP14=texture2D(shadowMapTexture,_c0128);_TMP129=dot(_TMP14.xyz,vec3(9.68764782E-01,3.07621881E-02,4.73029679E-04));if(_TMP111>=_TMP103){_TMP17=1.0;}else{_TMP17=0.0;}\n_shadowAttenuation40095.x=_shadowAttenuation40095.x+float(_TMP17);if(_TMP117>=_TMP103){_TMP18=1.0;}else{_TMP18=0.0;}\n_shadowAttenuation40095.y=_shadowAttenuation40095.y+float(_TMP18);if(_TMP123>=_TMP103){_TMP19=1.0;}else{_TMP19=0.0;}\n_shadowAttenuation40095.z=_shadowAttenuation40095.z+float(_TMP19);if(_TMP129>=_TMP103){_TMP20=1.0;}else{_TMP20=0.0;}\n_shadowAttenuation40095.w=_shadowAttenuation40095.w+float(_TMP20);}\nif(_TMP96){_x0154=(_shadowAttenuation40095.x+_shadowAttenuation40095.y+_shadowAttenuation40095.z+_shadowAttenuation40095.w)*1.25000000E-01;_TMP22=min(1.0,_x0154);_TMP155=max(0.0,_TMP22);_TMP94=(1.0-shadowSize_depthTweak_blurSize_fadeScale.w)+shadowSize_depthTweak_blurSize_fadeScale.w*_TMP155;}\n_diffContrib=_diffContrib*_TMP94;_TMP65=tz_Color.xyz*_diffContrib;_ret_0=vec4(_TMP65.x,_TMP65.y,_TMP65.z,_diffuseColor.w);gl_FragColor=_ret_0;}"},"fp_shiny":{"type": "fragment","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying TZ_LOWP vec4 tz_Color;varying vec4 tz_TexCoord[3];\nvec4 _ret_0;float _TMP4;float _TMP3;float _TMP10;float _TMP2;vec4 _TMP1;vec4 _TMP9;float _TMP8;float _TMP7;float _TMP6;float _TMP5;vec4 _temp0069;vec2 _c0073;vec3 _v0075;float _TMP84;float _x0088;vec3 _v0092;vec3 _v0098;uniform vec4 lightViewInverseTransposeFalloff[4];uniform vec3 lightOrigin;uniform vec3 lightColor;uniform vec3 eyePosition;uniform sampler2D diffuse;uniform sampler2D lightprojection;uniform sampler2D lightfalloff;uniform float shininess;void main()\n{vec3 _Nn;vec4 _position4;vec4 _projection1;vec3 _attenuation;vec3 _Ln;float _scale;vec3 _diffContrib;vec4 _diffuseColor;vec3 _result;vec3 _Cn;vec3 _Hn;float _specularContribution;_TMP3=dot(tz_TexCoord[1].xyz,tz_TexCoord[1].xyz);_TMP4=inversesqrt(_TMP3);_Nn=_TMP4*tz_TexCoord[1].xyz;_position4=vec4(tz_TexCoord[2].x,tz_TexCoord[2].y,tz_TexCoord[2].z,1.0);_TMP5=dot(_position4,lightViewInverseTransposeFalloff[0]);_TMP6=dot(_position4,lightViewInverseTransposeFalloff[1]);_TMP7=dot(_position4,lightViewInverseTransposeFalloff[2]);_TMP8=dot(_position4,lightViewInverseTransposeFalloff[3]);_projection1=vec4(_TMP5,_TMP6,_TMP7,_TMP8);_temp0069=vec4(_projection1.x,_projection1.y,_projection1.z,1.0);_TMP9=texture2DProj(lightprojection,_temp0069.xyz);_c0073=vec2(_projection1.w,0.5);_TMP1=texture2D(lightfalloff,_c0073);_attenuation=_TMP9.xyz*_TMP1.y;_v0075=lightOrigin-tz_TexCoord[2].xyz;_TMP3=dot(_v0075,_v0075);_TMP4=inversesqrt(_TMP3);_Ln=_TMP4*_v0075;_TMP2=dot(_Ln,_Nn);_scale=max(_TMP2,0.0);_x0088=_scale*3.99000001;_TMP10=floor(_x0088);_TMP84=_TMP10*3.30000013E-01;_diffContrib=_TMP84*lightColor;_diffuseColor=texture2D(diffuse,tz_TexCoord[0].xy);_diffContrib=_diffContrib*_attenuation;_result=_diffuseColor.xyz*_diffContrib;_v0092=tz_TexCoord[2].xyz-eyePosition;_TMP3=dot(_v0092,_v0092);_TMP4=inversesqrt(_TMP3);_Cn=_TMP4*_v0092;_v0098=_Cn+_Ln;_TMP3=dot(_v0098,_v0098);_TMP4=inversesqrt(_TMP3);_Hn=_TMP4*_v0098;_specularContribution=dot(_Hn,_Nn);if(_specularContribution>3.00000012E-01){_specularContribution=pow(_specularContribution,shininess);_result=_result+_result*_specularContribution;}\n_ret_0=tz_Color*vec4(_result.x,_result.y,_result.z,_diffuseColor.w);gl_FragColor=_ret_0;}"},"fp_default_alpha":{"type": "fragment","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying TZ_LOWP vec4 tz_Color;varying vec4 tz_TexCoord[3];\nvec4 _ret_0;float _TMP4;float _TMP6;float _TMP5;float _TMP12;float _TMP3;vec4 _TMP2;vec4 _TMP11;float _TMP10;float _TMP9;float _TMP8;float _TMP7;vec4 _TMP0;vec4 _temp0073;vec2 _c0077;vec3 _v0079;float _TMP88;float _x0092;uniform vec4 lightViewInverseTransposeFalloff[4];uniform vec3 lightOrigin;uniform vec3 lightColor;uniform float alphaRef;uniform sampler2D diffuse;uniform sampler2D lightprojection;uniform sampler2D lightfalloff;void main()\n{vec4 _diffuseColor;vec3 _Nn;vec4 _position4;vec4 _projection1;vec3 _attenuation;vec3 _Ln;float _scale;vec3 _diffContrib;vec3 _result;_TMP0=texture2D(diffuse,tz_TexCoord[0].xy);_diffuseColor=_TMP0*tz_Color;if(_diffuseColor.w<alphaRef){discard;}\n_TMP5=dot(tz_TexCoord[1].xyz,tz_TexCoord[1].xyz);_TMP6=inversesqrt(_TMP5);_Nn=_TMP6*tz_TexCoord[1].xyz;_position4=vec4(tz_TexCoord[2].x,tz_TexCoord[2].y,tz_TexCoord[2].z,1.0);_TMP7=dot(_position4,lightViewInverseTransposeFalloff[0]);_TMP8=dot(_position4,lightViewInverseTransposeFalloff[1]);_TMP9=dot(_position4,lightViewInverseTransposeFalloff[2]);_TMP10=dot(_position4,lightViewInverseTransposeFalloff[3]);_projection1=vec4(_TMP7,_TMP8,_TMP9,_TMP10);_temp0073=vec4(_projection1.x,_projection1.y,_projection1.z,1.0);_TMP11=texture2DProj(lightprojection,_temp0073.xyz);_c0077=vec2(_projection1.w,0.5);_TMP2=texture2D(lightfalloff,_c0077);_attenuation=_TMP11.xyz*_TMP2.y;_v0079=lightOrigin-tz_TexCoord[2].xyz;_TMP5=dot(_v0079,_v0079);_TMP6=inversesqrt(_TMP5);_Ln=_TMP6*_v0079;_TMP3=dot(_Ln,_Nn);_scale=max(_TMP3,0.0);_x0092=_scale*3.99000001;_TMP12=floor(_x0092);_TMP88=_TMP12*3.30000013E-01;_diffContrib=_TMP88*lightColor;_diffContrib=_diffContrib*_attenuation;_result=_diffuseColor.xyz*_diffContrib;_TMP4=dot(_result,vec3(3.00000012E-01,5.89999974E-01,1.09999999E-01));if(_TMP4<4.00000019E-03){discard;}\n_ret_0=vec4(_result.x,_result.y,_result.z,_diffuseColor.w);gl_FragColor=_ret_0;}"},"fp_default":{"type": "fragment","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying TZ_LOWP vec4 tz_Color;varying vec4 tz_TexCoord[3];\nvec4 _ret_0;float _TMP3;float _TMP11;float _TMP2;float _TMP5;float _TMP4;vec4 _TMP1;vec4 _TMP10;float _TMP9;float _TMP8;float _TMP7;float _TMP6;vec4 _temp0070;vec2 _c0074;vec3 _v0076;float _TMP85;float _x0089;uniform vec4 lightViewInverseTransposeFalloff[4];uniform vec3 lightOrigin;uniform vec3 lightColor;uniform sampler2D diffuse;uniform sampler2D lightprojection;uniform sampler2D lightfalloff;void main()\n{vec3 _Nn;vec4 _position4;vec4 _projection1;vec3 _attenuation;vec3 _Ln;float _scale;vec3 _diffContrib;vec4 _diffuseColor;vec3 _result;_TMP4=dot(tz_TexCoord[1].xyz,tz_TexCoord[1].xyz);_TMP5=inversesqrt(_TMP4);_Nn=_TMP5*tz_TexCoord[1].xyz;_position4=vec4(tz_TexCoord[2].x,tz_TexCoord[2].y,tz_TexCoord[2].z,1.0);_TMP6=dot(_position4,lightViewInverseTransposeFalloff[0]);_TMP7=dot(_position4,lightViewInverseTransposeFalloff[1]);_TMP8=dot(_position4,lightViewInverseTransposeFalloff[2]);_TMP9=dot(_position4,lightViewInverseTransposeFalloff[3]);_projection1=vec4(_TMP6,_TMP7,_TMP8,_TMP9);_temp0070=vec4(_projection1.x,_projection1.y,_projection1.z,1.0);_TMP10=texture2DProj(lightprojection,_temp0070.xyz);_c0074=vec2(_projection1.w,0.5);_TMP1=texture2D(lightfalloff,_c0074);_attenuation=_TMP10.xyz*_TMP1.y;_v0076=lightOrigin-tz_TexCoord[2].xyz;_TMP4=dot(_v0076,_v0076);_TMP5=inversesqrt(_TMP4);_Ln=_TMP5*_v0076;_TMP2=dot(_Ln,_Nn);_scale=max(_TMP2,0.0);_x0089=_scale*3.99000001;_TMP11=floor(_x0089);_TMP85=_TMP11*3.30000013E-01;_diffContrib=_TMP85*lightColor;_diffuseColor=texture2D(diffuse,tz_TexCoord[0].xy);_diffContrib=_diffContrib*_attenuation;_result=_diffuseColor.xyz*_diffContrib;_TMP3=dot(_result,vec3(3.00000012E-01,5.89999974E-01,1.09999999E-01));if(_TMP3<4.00000019E-03){discard;}\n_ret_0=tz_Color*vec4(_result.x,_result.y,_result.z,_diffuseColor.w);gl_FragColor=_ret_0;}"},"fp_matt_alpha":{"type": "fragment","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying vec4 tz_TexCoord[1];\nvec4 _ret_0;uniform vec4 materialColor;uniform vec3 lightColor;uniform float alphaRef;uniform sampler2D diffuse;void main()\n{vec4 _diffuseColor;_diffuseColor=texture2D(diffuse,tz_TexCoord[0].xy);if(_diffuseColor.w<alphaRef){discard;}\n_diffuseColor.xyz=_diffuseColor.xyz*lightColor;_ret_0=materialColor*_diffuseColor;gl_FragColor=_ret_0;}"},"vp_ambient":{"type": "vertex","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying vec4 tz_TexCoord[1];attribute vec4 ATTR0;attribute vec4 ATTR8;\nstruct VP_AMBIENT_OUT{vec4 _Position4;vec2 _UV3;};uniform vec2 uvTransform[3];uniform vec4 projection[4];uniform vec3 worldView[4];void main()\n{VP_AMBIENT_OUT _OUT;vec3 _position;_position=ATTR0.xxx*worldView[0]+ATTR0.yyy*worldView[1]+ATTR0.zzz*worldView[2]+worldView[3];_OUT._Position4=_position.xxxx*projection[0]+_position.yyyy*projection[1]+_position.zzzz*projection[2]+projection[3];_OUT._UV3=ATTR8.xx*uvTransform[0]+ATTR8.yy*uvTransform[1]+uvTransform[2];tz_TexCoord[0].xy=_OUT._UV3;gl_Position=_OUT._Position4;}"},"fp_matt":{"type": "fragment","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying vec4 tz_TexCoord[1];\nvec4 _ret_0;uniform vec4 materialColor;uniform vec3 lightColor;uniform sampler2D diffuse;void main()\n{vec4 _diffuseColor;_diffuseColor=texture2D(diffuse,tz_TexCoord[0].xy);_diffuseColor.xyz=_diffuseColor.xyz*lightColor;_ret_0=materialColor*_diffuseColor;gl_FragColor=_ret_0;}"},"fp_emissive_alpha":{"type": "fragment","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying vec4 tz_TexCoord[1];\nuniform vec4 materialColor;uniform float alphaRef;uniform sampler2D glow_map;void main()\n{vec4 _glowColor;vec4 _result;_glowColor=texture2D(glow_map,tz_TexCoord[0].xy);_result=materialColor*_glowColor;if(_result.w<alphaRef){discard;}\ngl_FragColor=_result;}"}}}